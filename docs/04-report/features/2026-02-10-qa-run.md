# 2026-02-10 QA Run

이 문서는 수동 QA 실행 결과를 빠르게 기록하기 위한 체크리스트입니다.
- 실행자: Claude Code (자동) + 사용자 (수동 브라우저)
- 실행 환경: localhost (backend:8080, frontend:5173)
- 브랜치/커밋: main / 8c0bf82
- 시작 시각: 2026-02-10 23:07 KST
- 종료 시각: 진행 중

## 테스트 상태 기준
- `PASS`: 기대 결과와 일치
- `FAIL`: 기능 오동작/회귀
- `BLOCKED`: 환경 문제로 검증 불가
- `N/A`: 현재 범위 밖 / 항목 의미 불명확

## A. 인증/온보딩

| ID | 테스트 항목 | 기대 결과 | 상태 | 메모 |
|---|---|---|---|---|
| A-01 | 로그인 실패 시 에러 문구/입력값 유지 | 문구가 충분히 보이고 입력값 유지 | PASS | API 에러 반환 정상 |
| A-02 | 로그인 성공 후 홈 진입 | 정상 진입, 세션 유지 | PASS | access_token + refresh_token 정상 |
| A-03 | 랜딩 `처음부터 시작` -> 회원가입 | 온보딩 분기 화면 진입 | PASS | /onboarding/start 200, /register 200 |
| A-04 | 회원가입 화면에서 직접 가입 | 첫 가입 사용자도 온보딩 분기/테스트 유도 | PASS | 가입 성공 확인 |
| A-05 | 성향 테스트 완료 | 결과 저장 + 다음 화면 전환 정상 | BLOCKED | UI 조작 필요 |
| A-06 | 게스트 세션 시작 버튼 | 게스트로 앱 진입 | **FAIL** | `invalid credentials` 에러 발생. 게스트 로그인 로직 확인 필요 |

## B. Evidence Packet

| ID | 테스트 항목 | 기대 결과 | 상태 | 메모 |
|---|---|---|---|---|
| E-01 | 프리셋 `라이트/균형/딥` 전환 | 포함 항목/범위/개수 자동 변경 | BLOCKED | UI 조작 필요 |
| E-02 | `세부 설정` 접기/펼치기 | UI 충돌 없이 토글 | BLOCKED | UI 조작 필요 |
| E-03 | `패킷 미리보기` | 미리보기 텍스트 정상 생성 | BLOCKED | UI 조작 필요 |
| E-04 | 커스텀 기간 설정 | from/to 반영 정상 | BLOCKED | UI 조작 필요 |

## C. AI One-shot / 에러 UX

| ID | 테스트 항목 | 기대 결과 | 상태 | 메모 |
|---|---|---|---|---|
| AI-01 | Ask AI 성공 케이스 | 카드 렌더 + 메모 자동 채움 | BLOCKED | 버블 데이터 필요 |
| AI-02 | 401 권한 부족 케이스 | 권한 안내 문구 표시 | 미확인 | |
| AI-03 | 429 쿼터/레이트리밋 케이스 | 한도 안내 문구 표시 | 미확인 | |
| AI-04 | 502/503 케이스 | 일시 장애 안내 + 재시도 버튼 | 미확인 | |
| AI-05 | Network Error 케이스 | 네트워크 점검 안내 표시 | 미확인 | |
| AI-06 | 에러 후 `다시 시도` | 재호출 정상 동작 | 미확인 | |

## D. 복기 AI 카드

| ID | 테스트 항목 | 기대 결과 | 상태 | 메모 |
|---|---|---|---|---|
| R-01 | 심볼 필터 | 선택 심볼만 표시 | 미확인 | |
| R-02 | 타임프레임 필터 | 선택 timeframe만 표시 | 미확인 | |
| R-03 | 새로고침 | `ai_symbol`, `ai_tf` 쿼리 유지 | 미확인 | |
| R-04 | `관련 버블` 클릭 | `/bubbles?bubble_id=...` 이동 | 미확인 | |
| R-05 | `차트 이동` 클릭 | 해당 심볼/타임프레임/캔들 포커스 | 미확인 | |

## E. 홈 AI 카드

| ID | 테스트 항목 | 기대 결과 | 상태 | 메모 |
|---|---|---|---|---|
| H-01 | 심볼/타임프레임 필터 | 카드 미리보기 필터 반영 | 미확인 | |
| H-02 | 새로고침 | 쿼리 유지 | 미확인 | |
| H-03 | `관련 버블` 클릭 | 버블 상세 자동 선택 | 미확인 | |
| H-04 | `차트 이동` 클릭 | 차트 포커스 동작 | 미확인 | |

## F. 버블 페이지 딥링크

| ID | 테스트 항목 | 기대 결과 | 상태 | 메모 |
|---|---|---|---|---|
| B-01 | `bubble_id` 쿼리 진입 | 해당 버블 자동 선택 | N/A | 버블 ID를 UI에서 확인할 수 있는 경로가 불명확. UX 개선 필요 |
| B-02 | 자동 선택 후 스크롤 | 해당 카드 위치로 자동 이동 | N/A | B-01과 동일 사유 |

## G. 차트 UX

| ID | 테스트 항목 | 기대 결과 | 상태 | 메모 |
|---|---|---|---|---|
| C-01 | 상단 기본 화면 버튼 밀도 | 이전 대비 덜 난잡함 | PASS | /chart 정상 렌더 |
| C-02 | `기능 더보기` 토글 | 고급 옵션 펼침/접힘 정상 | BLOCKED | UI 조작 필요 |
| C-03 | 밀도 모드 전환 | 마커 수/표시 방식 변화 정상 | N/A | 항목 의미 불명확 - "밀도 모드"가 UI에서 어디인지 불분명 |
| C-04 | 고밀도 줌아웃 구간 | 겹침 완화 + 집계 정보 유지 | N/A | C-03과 동일 - 밀도 모드 개념 불명확 |
| C-05 | 상단 근처 마커 툴팁 | 잘림 없이 표시 | N/A | C-03과 동일 |
| C-06 | `focus_ts`, `focus_tf` 직접 URL | 해당 캔들 자동 포커스 | N/A | C-03과 동일 |
| C-07 | 퀵 심볼 검색 > 005930 (국내주식) | 지원하지 않는 종목 안내 | **FAIL** | 에러 메시지 없이 바로 BTCUSDT로 전환됨. 지원 불가 종목은 목록에서 제외하거나 에러 문구 필요 |

## H. 노트 정리 정책

| ID | 테스트 항목 | 기대 결과 | 상태 | 메모 |
|---|---|---|---|---|
| N-01 | AI 노트 다수 생성 후 확인 | 최신 N개 유지, 오래된 AI 노트 prune | BLOCKED | 노트 데이터 없음 |
| N-02 | 일반 노트 생성 | AI prune 정책 영향 없음 | PASS | API 정상 동작 |

## 결함 기록

- ID: BUG-01
- 현상: BubbleCreateModal.tsx 구문 오류로 /chart, /home, /alerts, /settings 등 다수 페이지 500 에러
- 재현 절차: 서버 시작 후 /chart 접속
- 기대 결과: 정상 렌더
- 실제 결과: "Unterminated regexp literal" 파싱 에러 (757번줄 여분 `</div>`)
- 심각도: S1 (앱 전체 접근 불가)
- 수정: 757번줄 여분 `</div>` 제거로 해결

- ID: BUG-02
- 현상: DB 마이그레이션 015 (ai_quota_limit) 미적용으로 회원가입 실패
- 재현 절차: POST /api/v1/auth/register
- 기대 결과: 계정 생성 성공
- 실제 결과: `"ai_quota_limit" 칼럼 없음` 에러
- 심각도: S1 (신규 가입 불가)
- 수정: 마이그레이션 010~015 일괄 적용으로 해결

- ID: BUG-03
- 현상: 게스트 세션 시작 버튼 클릭 시 `invalid credentials` 에러
- 재현 절차: 랜딩 페이지 > 게스트 세션 시작 버튼 클릭
- 기대 결과: 게스트로 앱 진입
- 실제 결과: invalid credentials 에러
- 심각도: S2 (게스트 진입 불가)

- ID: BUG-04
- 현상: 차트 퀵 심볼에서 005930(국내주식) 선택 시 에러 없이 BTCUSDT로 전환
- 재현 절차: 차트 > 퀵 심볼 검색 > 005930 선택
- 기대 결과: 지원 불가 안내 또는 목록에서 제외
- 실제 결과: 에러 메시지 없이 바로 BTCUSDT 차트로 전환
- 심각도: S3 (UX 혼란)

## 실행 결과 요약
- 총 항목: 31 (C-07 추가)
- PASS: 6
- FAIL: 2 (A-06 게스트 세션, C-07 퀵 심볼)
- BLOCKED: 10
- N/A: 5 (밀도 모드 관련 + 버블 딥링크)
- 미확인: 8 (AI 에러 UX, 복기/홈 AI 카드)

## 우선 수정 후보
1. ~~BubbleCreateModal.tsx 구문 오류~~ (수정 완료)
2. ~~DB 마이그레이션 누락~~ (적용 완료)
3. **BUG-03**: 게스트 세션 시작 로직 수정 (S2)
4. **BUG-04**: 퀵 심볼에서 지원 불가 종목 필터링 또는 에러 안내 (S3)
5. C-03~06 항목 재정의 필요 - "밀도 모드" 의미 명확화
