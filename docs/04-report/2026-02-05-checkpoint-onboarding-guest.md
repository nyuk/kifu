# Checkpoint Report (2026-02-05)

## 목표
- 온보딩 흐름을 단순화하고(게스트/처음부터 시작),
- 게스트 체험을 실제 로그인 세션 기반으로 분리하며,
- 거래 데이터 확장(거래소/자산군) 반영과 화면 안정성을 개선한다.

## 이번 체크포인트 핵심 변경

### 1) 온보딩/랜딩 흐름 정리
- 랜딩 CTA를 `게스트로 입장`, `처음부터 시작` 2개로 단순화.
- `처음부터 시작` 진입 시:
  - `회원가입 후 거래내역 불러오기`
  - `회원가입 후 초기 성향 테스트`
  두 경로를 선택하도록 구성.
- 성향 테스트:
  - 5문항/약 3분 구조
  - 선택 + 확신도 + 근거 태그
  - 저장 피드백 표시 및 로그인 상태에서 저장 후 홈 이동
  - 온보딩 프로필(localStorage) 저장/활용

### 2) 게스트 세션 분리 및 체험 강화
- 게스트 전용 세션 유틸 추가:
  - `kifu-guest-session-v1` 저장
  - 세션 ID 생성/표시
- 게스트 진입은 실제 로그인 토큰 발급 방식으로 동작.
- 게스트용 계정 기본값을 별도 계정으로 변경:
  - `guest.preview@kifu.local / guest1234`
- 게스트 화면을 탭형 인터랙티브 데모로 구성(홈/차트/복기/포트폴리오).

### 3) 게스트 모드 기능 제한
- 회원 전용 기능 비활성화:
  - 거래소 API 연결/테스트/동기화
  - AI 키 등록/삭제
  - 차트 CSV Import
  - 버블 모달 AI 요청
- UI에 게스트 제한 안내 문구 추가.

### 4) 거래 데이터 반영 및 안정화
- 거래 요약 어댑터(백엔드 응답 키 변형 대응) 적용.
- 홈/포트폴리오/복기에서 거래 요약값 표시 안정화.
- 키 경고/undefined 접근 오류 등 런타임 이슈 수정.

### 5) 백엔드/시드 보강
- 시드 스크립트가 환경변수 기반 사용자로 동작하도록 개선:
  - `SEED_USER_EMAIL`, `SEED_USER_PASSWORD`, `SEED_USER_NAME`
  - 기본값은 게스트 전용 계정으로 설정.
- 게스트 계정 더미 데이터 시드 실행 완료:
  - trades: 480
  - bubbles: 12
  - ai_opinions: 18

## 확인된 동작
- `게스트 세션 시작` 시 게스트 계정으로 로그인 후 `/home` 진입.
- 게스트 세션 상태가 사이드바에 표시됨.
- 게스트 모드에서 회원 전용 기능 버튼이 비활성화됨.
- `npx tsc --noEmit` 통과.

## 다음 작업 권장 순서
1. 서재 모드(Home) 집중 UX 개선
2. 긴급 알림(Alert) 시나리오 실제 데이터 연결
3. 게스트/실사용자 데이터 경계 정책 정리(권한/가시성/리셋 규칙)

