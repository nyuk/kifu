> **Language policy (v1.0-first, English default):**
> - Primary language for repo documentation: English.
> - Baseline is v1.0; v1.1 changes are documented as extension notes only.
> - 한국어는 보조 문맥(필요 시)로 제공됩니다.

# Summary Pack v1.0 관점: 복기 서비스 전반 개요

v1.0은 “요약 팩 생성 + 복기/회고 흐름 + AI 판단 기록”이 결합된 기존 서비스 전반이다.  
`1.1`은 v1.0의 `팩 생성(완료 run)` 동선을 더 자동화한 확장으로 본다.

## v1.0 핵심 목적
1. 거래/포트폴리오/버블(거래 판단 이벤트) 데이터를 하나의 판단 기록으로 묶는다.
2. AI 의견과 실제 결과를 비교해 사용자 판단의 정확도와 패턴을 높인다.
3. 탭 단위로 복기와 분석을 분리해, “지금 무엇을 점검해야 하는지”를 빠르게 보여준다.

## v1.0 주요 화면/탭(홈 서비스 맥락)
출처: `frontend/src/components/Shell.tsx`, `frontend/src/components/home/*`, 관련 라우트/페이지 컴포넌트들
- `/home`: 오늘 요약/스냅샷, 복기 진입, AI 요약 카드, 경로 탐색
- `/portfolio`: 자산/포지션 요약, 타임라인, 거래 이벤트, 필터 및 백필 생성
- `/chart`: 버블/캔들/결과를 연동한 상세 분석(차트 리플레이 연동 경로 포함)
- `/trades`: 거래 목록/요약, 지표 기반 정합성 확인
- `/review`: 복기 노트, 성과 분석 탭, 통계/정확도/달력/추세 보기
- `/alerts`: 알림/브리핑(기존 시스템)

## v1.0 핵심 기능 구조
### 1) 데이터 수집 & 이벤트 계층
- 거래 동기화(API 동기화, CSV 임포트), 수동 포지션 입력
- 버블 생성/저장(판단 이벤트)
- AI 의견 수집(버블 단위 질의, 에러 재시도, 응답 자동 보존)
- AI 노트/복기 노트 자동 저장 및 홈/복기에서 조회

### 2) 복기(Review) 흐름
- `home`의 “오늘의 복기 카드”와 `guided-review`/`review` 연동
- Layered 질문 흐름(의도→감정→패턴→메모) 기반의 기본 복기
- 비거래일 복기와 복기 연속성/스트릭 유지
- 복기 노트와 결과 확인(완료/미완료 상태, 보강/이월 복기)

### 3) 과거 데이터 비교(Review & Replay)
- 버블/AI 의견/결과(Outcome)를 시간축에 정렬해 비교
- AI 정확도 통계(Provider/기간/심볼/태그 기준) 추적
- 차트 리플레이와 연동해 과거 시점의 판단과 결과를 함께 확인
- 수동 저장한 복기 노트와 AI 판단 기록의 상호 참조

### 4) 운영/안전성 포인트
- AI 호출 실패 처리(재시도), AI 키 유효성, 호출 제한 정책
- 포지션/거래 정합성 보정(동기화 후 이벤트 정합성, 타임라인 재계산)
- 탭별 KPI·요약 수치 일관성(홈/포트폴리오/복기의 지표 정합성)

## v1.0과 v1.1 구분(기본 합의)
- v1.0: 사용자가 `source_run_id` 또는 기존 흐름을 통해 Pack 생성 플로우를 명시적으로 수행(요청 기반)
- v1.1: `generate-latest`로 “완료된 최신 run 자동 선정”을 추가한 확장
- 운영 판단 규칙: 모든 질문/설명은 v1.0 기반으로 쓰고, v1.1은 변경분(자동선택/NO_COMPLETED_RUN/응답 확장)으로만 부록 처리

## NotebookLM에서의 사용 방식 (권장)
- 기본 질문은 반드시 `v1.0 관점`으로 시작
- 필요한 경우에만 `v1.1 변경사항`이라는 라벨로 확장사항 덧붙이기

